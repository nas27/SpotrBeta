@model IEnumerable<SpotrBeta.Models.Exercis>

@{
    ViewBag.Title = "Exercise page";
    var prevWorkout = "";
    var currentWorkout = "";
}

<h1>View your exercises</h1>

<table class="table">
    <tr>
        <th>
            Workout Name
        </th>
        <th>
            Exercise Name
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Description)
        </th>
        <th>
            @Html.DisplayName("Repetitions")
        </th>
        <th>
            @Html.DisplayName("Rest (minutes)")
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Weight)
        </th>
        <th></th>
    </tr>
    </table>
    @foreach (var item in Model)
    {
        <div class="alert-success">
            @{
                currentWorkout = item.Workout.Name;
            }
                
            @if (currentWorkout != prevWorkout)
                {
                @Html.DisplayFor(modelItem => item.Workout.Name)
            }
        </div>

          <p>@Html.DisplayFor(modelItem => item.Name)</p>
          <p>@Html.DisplayFor(modelItem => item.Description)</p>
          <p class="badge">@Html.DisplayFor(modelItem => item.NumReps)</p>
           <p class="badge">@Html.DisplayFor(modelItem => item.RestTime)</p>
             <p class="badge">@Html.DisplayFor(modelItem => item.Weight)</p>
            @Html.ActionLink("Edit", "Edit", new { id = item.Id })
            @Html.ActionLink("Delete", "Delete", new { id = item.Id })


    prevWorkout = item.Workout.Name;


    }





<h4>@Html.ActionLink("Add another exercise", "Create", "Exercis") <span class="glyphicon glyphicon-arrow-right"></span> </h4>