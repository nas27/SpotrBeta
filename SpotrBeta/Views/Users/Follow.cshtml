@{
    ViewBag.Title = "Follow";

    var allTrainers = ViewBag.AllTrainers;
    var CurrentTrainers = ViewBag.CurrentTrainers;
    var checkCreated = false;
}


@using (Html.BeginForm("Follow", "Users", FormMethod.Get))
{
    <strong>
        Enter: @Html.TextBox("id")
    </strong><input type="submit" class="btn-toolbar" value="Search" />


}

<div class="form-group">
    <form action="/Users/Follow" method="get">
        <input style="display:none" type="text" value="Top 3" name="id" />
        <input type="submit" value="Search" />
    </form>
</div>

@*@using (Html.BeginForm("Follow", "Users", FormMethod.Get))
    {
        <strong style="display:none">
            Enter: @Html.TextBox("id", "Top 3")
        </strong><input type="submit" class="btn-toolbar" value="Show Top Trainers" />
    }
*@ 
    @foreach (var item in allTrainers)
    {
        checkCreated = false;
        <div class="form-group col-lg-offset-1 well-sm">
            <form action="/Users/Follow" method="post">
                <h4>@item.FirstName @item.LastName</h4><span class="glyphicon glyphicon-bookmark"> Rating: @item.Rating</span>
                <input style="display:none" type="number" value="@item.Id" name="trainerNum" />
               
                @foreach (var train in CurrentTrainers)
                {
                    if (item.Id == train.UserId)
                    {
                        <input style="display:none" type="checkbox" name="followed">
                        <input class="btn btn-block" type="submit" value="UnFollow">
                        checkCreated = true; 
                    }
                }

                @if (checkCreated == false)
                {
                    <input style="display:none" type="checkbox" name="followed" checked="checked">
                    <h1><input class="btn btn-block" type="submit" value="Follow"></h1>
                }

               
            </form>
        </div>


    }


